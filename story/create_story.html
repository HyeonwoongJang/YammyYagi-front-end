<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MEB56YBWDJ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-MEB56YBWDJ");
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create Fairy Tale</title>
    <link rel="stylesheet" href="/static/css/story/create_stroy.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script src="/static/js/header.js"></script>
    <link rel="shortcut icon" href="/yumyum.ico" />
  </head>
  <body>
    <header id="header"></header>
    <div class="body-container">
      <section class="main">
        <div class="information" id="information">
          <h3>동심에 위배되는 키워드로는 동화가 제작되지 않습니다</h3>
          <h3>언어 선택 후 키워드를 입력하고 버튼을 누르면 동화가 생성됩니다</h3>
        </div>
        <div class="output-container">
          <img id="script-img" />
          <br />
          <br />
          <div class="script-box" id="script-text"></div>
          <textarea id="editable-text" style="display: none"></textarea>
        </div>
        <button id="edit-button" onclick="editText()" style="display: none">수정하기</button>
        <div class="bottom-section">
          <div class="input-container" id="first-input-container">
            <select class="info" id="language" required>
              <option value="" disabled selected>-- Select Language --</option>
              <option value="hr" disabled></option>
              <option value="KO">한국어</option>
              <option value="hr" disabled>- - - - - - -</option>
              <option value="EN-US">English</option>
              <option value="hr" disabled>- - - - - - -</option>
              <option value="FR">Français</option>
              <option value="hr" disabled>- - - - - - -</option>
              <option value="ES">Español</option>
              <option value="hr" disabled>- - - - - - -</option>
              <option value="JA">日本語</option>
              <option value="hr" disabled>- - - - - - -</option>
              <option value="ZH">中国人</option>
              <option value="hr" disabled></option>
            </select>
            <input id="prompt" placeholder="예시 : 고양이의 모험" />
            <div id="submit-theme">📨</div>
          </div>
          <div class="first-spinner" id="first-spinner">
            <div class="d-flex justify-content-center">
              <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
              <div class="spinner-message">이야기를 생성중입니다. 약 1분 소요됩니다.</div>
            </div>
          </div>
          <div class="input-container" id="image-type-container" style="display: none">
            <select class="info" id="image-type" required>
              <option value="" disabled selected>-- Select Ticket Type --</option>
              <option value="golden_ticket" id="golden-ticket-create"></option>
              <option value="silver_ticket" id="silver-ticket-create"></option>
              <option value="pink_ticket" id="pink-ticket-create"></option>
            </select>
          </div>
          <div class="create-btn" id="image-gen" onclick="getImage()">
            이미지 생성
            <div class="create-btn-msg" id="create-btn-msg">(이미지를 새로 생성하고 싶으시면 다시 클릭하세요)</div>
          </div>
          <div class="second-spinner" id="second-spinner">
            <div class="d-flex justify-content-center">
              <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
              <div class="spinner-message">스토리에 맞는 이미지를 생성중입니다. 약 1분 소요됩니다.</div>
            </div>
          </div>
          <div class="input-container">
            <div>
              <input id="title" placeholder="동화의 제목을 정해주세요" />
              <div id="submit-title">동화 생성</div>
            </div>
          </div>
          <div class="third-spinner" id="third-spinner">
            <div class="d-flex justify-content-center">
              <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
              </div>
              <div class="spinner-message">동화책을 만들고 있습니다. 약 1분 소요됩니다.</div>
            </div>
          </div>
          <div style="display: flex">
            <button class="pagination-button" id="prev-button" onclick="prePage()" style="display: none">이전</button>
            <button class="pagination-button" id="next-button" onclick="nextPage()" style="display: none">다음</button>
          </div>
          <button id="temp-save-button" onclick="saveTemporary()" style="display: none">임시 저장</button>
          <div id="my_modal" style="display: none">
            <div style="font-size: 18px">
              작성 중인 동화책이 있습니다. <br />
              이어서 작성하시겠습니까?
            </div>
            <div id="temp-buttons">
              <button id="load-temp" onclick="loadTemp()">불러오기</button>
              <button id="delete-temp" onclick="deleteTemp()">삭제</button>
            </div>
          </div>
        </div>
        <p class="info-footer">Yummy-Yagi</p>
      </section>
    </div>
    <footer id="footer"></footer>
    <script src="/static/js/story/create_story.js"></script>
    <script src="/static/js/footer.js"></script>
  </body>
</html>
